// ============================================
// Main Styles - ملف الأنماط الرئيسي
// ============================================

// 1. Abstracts - المتغيرات والدوال
@import 'abstracts/variables';
@import 'abstracts/functions';
@import 'abstracts/mixins';

// 2. Themes - السمات
@import 'themes/light';
@import 'themes/dark';

// 3. Base - الأساسيات
@import 'base/reset';
@import 'base/typography';
@import 'base/helpers';

// 4. Components - المكونات
@import 'components/buttons';
@import 'components/forms';
@import 'components/cards';
@import 'components/modals';

// 5. Layout - التخطيط
@import 'layout/header';
@import 'layout/footer';
@import 'layout/sidebar';

// 6. RTL Support - دعم العربي
@import 'rtl';

// ============================================
// Global Styles
// ============================================

// Main app container
.app {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

.app-main {
    flex: 1;
    padding: $spacing-2xl 0;

    @include respond-to('md') {
        padding: $spacing-xl 0;
    }

    &.has-sidebar {
        margin-left: $sidebar-width;

        @include respond-to('md') {
            margin-left: 0;
        }
    }

    &.sidebar-collapsed {
        margin-left: $sidebar-collapsed-width;

        @include respond-to('md') {
            margin-left: 0;
        }
    }
}

// RTL for main
[dir='rtl'] {
    .app-main {
        &.has-sidebar {
            margin-left: 0;
            margin-right: $sidebar-width;

            @include respond-to('md') {
                margin-right: 0;
            }
        }

        &.sidebar-collapsed {
            margin-left: 0;
            margin-right: $sidebar-collapsed-width;

            @include respond-to('md') {
                margin-right: 0;
            }
        }
    }
}

// Page header
.page-header {
    margin-bottom: $spacing-2xl;

    .page-title {
        margin-bottom: $spacing-sm;
        font-size: $font-size-4xl;
        font-weight: $font-weight-bold;
        color: var(--heading-color);
    }

    .page-description {
        color: var(--text-muted);
        font-size: $font-size-lg;
    }
}

// Loading state
.loading {
    @include flex-center;
    min-height: 200px;

    .spinner {
        width: 40px;
        height: 40px;
        border: 4px solid rgba($primary-color, 0.2);
        border-top-color: $primary-color;
        border-radius: $radius-full;
        animation: spin 0.8s linear infinite;
    }
}

// Empty state
.empty-state {
    @include flex-center;
    @include flex-column;
    padding: $spacing-4xl $spacing-lg;
    text-align: center;

    .empty-icon {
        font-size: 4rem;
        color: var(--text-muted);
        margin-bottom: $spacing-lg;
    }

    .empty-title {
        font-size: $font-size-xl;
        font-weight: $font-weight-semibold;
        margin-bottom: $spacing-sm;
        color: var(--heading-color);
    }

    .empty-description {
        color: var(--text-muted);
        margin-bottom: $spacing-lg;
    }
}

// Error state
.error-state {
    @include flex-center;
    @include flex-column;
    padding: $spacing-4xl $spacing-lg;
    text-align: center;

    .error-icon {
        font-size: 4rem;
        color: $error-color;
        margin-bottom: $spacing-lg;
    }

    .error-title {
        font-size: $font-size-2xl;
        font-weight: $font-weight-bold;
        margin-bottom: $spacing-sm;
        color: $error-color;
    }

    .error-message {
        color: var(--text-muted);
        margin-bottom: $spacing-lg;
    }
}

// Notification/Toast
.notification {
    position: fixed;
    top: $spacing-lg;
    right: $spacing-lg;
    min-width: 300px;
    max-width: 400px;
    padding: $spacing-md;
    background-color: var(--card-bg);
    border-radius: $radius-lg;
    box-shadow: $shadow-xl;
    z-index: z('tooltip');
    animation: slideInRight $transition-base;

    &.notification-success {
        border-left: 4px solid $success-color;
    }

    &.notification-error {
        border-left: 4px solid $error-color;
    }

    &.notification-warning {
        border-left: 4px solid $warning-color;
    }

    &.notification-info {
        border-left: 4px solid $info-color;
    }
}

[dir='rtl'] {
    .notification {
        right: auto;
        left: $spacing-lg;
        border-left: none;

        &.notification-success {
            border-right: 4px solid $success-color;
        }

        &.notification-error {
            border-right: 4px solid $error-color;
        }

        &.notification-warning {
            border-right: 4px solid $warning-color;
        }

        &.notification-info {
            border-right: 4px solid $info-color;
        }
    }
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(100px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

// Utility animations
@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}