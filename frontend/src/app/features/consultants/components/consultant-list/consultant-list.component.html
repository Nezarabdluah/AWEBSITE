<div class="consultant-list-page">
    <div class="container">
        <!-- Page Header -->
        <div class="page-header">
            <h1 class="page-title">ุงููุณุชุดุงุฑูู ุงูุชุนูููููู</h1>
            <p class="page-subtitle">ุชูุงุตู ูุน ุฎุจุฑุงุก ุงููุจูู ุงูุฌุงูุนู ูุงูุฏุฑุงุณุฉ ุจุงูุฎุงุฑุฌ</p>
        </div>

        <!-- Search & Filters -->
        <div class="filters-section">
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="ุงุจุญุซ ุนู ูุณุชุดุงุฑ..." [value]="searchQuery()"
                    (input)="onSearch($any($event.target).value)">
                <span class="search-icon">๐</span>
            </div>

            <div class="specialty-filters">
                <select class="filter-select" [value]="selectedSpecialty() || ''"
                    (change)="onSpecialtyChange($any($event.target).value)">
                    <option value="">ุฌููุน ุงูุชุฎุตุตุงุช</option>
                    @for (spec of specialties; track spec) {
                    <option [value]="spec">{{ spec }}</option>
                    }
                </select>

                @if (searchQuery() || selectedSpecialty()) {
                <button class="btn btn-sm btn-outline" (click)="clearFilters()">
                    ูุณุญ ุงูููุงุชุฑ
                </button>
                }
            </div>
        </div>

        <!-- Results Count -->
        <div class="results-info">
            <p>ุนุฑุถ {{ consultants().length }} ูู ุฃุตู {{ total() }} ูุณุชุดุงุฑ</p>
        </div>

        <!-- Loading State -->
        @if (loading()) {
        <div class="loading-state">
            <app-loading-spinner [size]="'large'"></app-loading-spinner>
            <p>ุฌุงุฑู ุชุญููู ุงููุณุชุดุงุฑูู...</p>
        </div>
        }

        <!-- Error State -->
        @else if (error()) {
        <div class="error-state">
            <p class="error-message">{{ error() }}</p>
            <button class="btn btn-primary" (click)="loadConsultants()">
                ุฅุนุงุฏุฉ ุงููุญุงููุฉ
            </button>
        </div>
        }

        <!-- Consultants Grid -->
        @else if (consultants().length > 0) {
        <div class="consultants-grid">
            @for (consultant of consultants(); track consultant.id) {
            <div class="consultant-card">
                <a [routerLink]="['/consultants', consultant.id]" class="consultant-card__link">
                    <!-- Image -->
                    <div class="consultant-card__image">
                        <img [src]="consultant.image" [alt]="consultant.name">
                        @if (!consultant.is_available) {
                        <span class="status-badge unavailable">ุบูุฑ ูุชุงุญ</span>
                        } @else {
                        <span class="status-badge available">ูุชุงุญ</span>
                        }
                    </div>

                    <!-- Content -->
                    <div class="consultant-card__content">
                        <h3 class="consultant-name">{{ consultant.name }}</h3>

                        <p class="consultant-specialty">{{ consultant.specialty }}</p>

                        @if (consultant.bio) {
                        <p class="consultant-bio">{{ consultant.bio }}</p>
                        }

                        <!-- Stats -->
                        <div class="consultant-stats">
                            @if (consultant.rating) {
                            <div class="stat">
                                <span class="stat-icon">โญ</span>
                                <span class="stat-value">{{ consultant.rating }}</span>
                            </div>
                            }

                            @if (consultant.experience_years) {
                            <div class="stat">
                                <span class="stat-icon">๐ผ</span>
                                <span class="stat-value">{{ consultant.experience_years }} ุณููุงุช</span>
                            </div>
                            }

                            @if (consultant.consultations_count) {
                            <div class="stat">
                                <span class="stat-icon">๐</span>
                                <span class="stat-value">{{ formatNumber(consultant.consultations_count) }}
                                    ุงุณุชุดุงุฑุฉ</span>
                            </div>
                            }
                        </div>

                        <!-- Languages -->
                        @if (consultant.languages && consultant.languages.length > 0) {
                        <div class="consultant-languages">
                            <span class="languages-label">ุงููุบุงุช:</span>
                            <span class="languages-list">{{ consultant.languages.join(', ') }}</span>
                        </div>
                        }
                    </div>

                    <!-- Action -->
                    <div class="consultant-card__actions">
                        <button class="btn btn-sm btn-primary btn-block">
                            ุนุฑุถ ุงูููู ุงูุดุฎุตู
                        </button>
                    </div>
                </a>
            </div>
            }
        </div>

        <!-- Pagination -->
        @if (totalPages() > 1) {
        <div class="pagination-wrapper">
            <app-pagination [currentPage]="currentPage()" [totalPages]="totalPages()"
                (pageChange)="onPageChange($event)">
            </app-pagination>
        </div>
        }
        }

        <!-- Empty State -->
        @else {
        <div class="empty-state">
            <div class="empty-icon">๐จโ๐ซ</div>
            <h3>ูุง ุชูุฌุฏ ูุชุงุฆุฌ</h3>
            <p>ูู ูุฌุฏ ุฃู ูุณุชุดุงุฑูู ูุทุงุจููู ุงูุจุญุซ.</p>
            <button class="btn btn-primary" (click)="clearFilters()">
                ูุณุญ ุงูููุงุชุฑ
            </button>
        </div>
        }
    </div>
</div>