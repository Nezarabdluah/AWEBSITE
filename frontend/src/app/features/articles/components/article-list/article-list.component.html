<div class="article-list-page">
    <div class="container">
        <!-- Page Header -->
        <div class="page-header">
            <h1 class="page-title">ุงููุฏููุฉ ูุงูููุงูุงุช</h1>
            <p class="page-subtitle">ุงูุฑุฃ ุขุฎุฑ ุงูููุงูุงุช ูุงููุตุงุฆุญ ุญูู ุงูุฏุฑุงุณุฉ ูู ุงูุฎุงุฑุฌ</p>
        </div>

        <!-- Featured Articles (First page only) -->
        @if (featuredArticles().length > 0 && currentPage() === 1) {
        <div class="featured-section">
            <h2 class="section-title">ููุงูุงุช ูููุฒุฉ</h2>
            <div class="featured-grid">
                @for (article of featuredArticles(); track article.id) {
                <app-article-card [article]="article" [featured]="true"></app-article-card>
                }
            </div>
        </div>
        }

        <!-- Search & Filters -->
        <div class="filters-section">
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="ุงุจุญุซ ุนู ููุงูุฉ..." [value]="searchQuery()"
                    (input)="onSearch($any($event.target).value)">
                <span class="search-icon">๐</span>
            </div>

            <div class="category-filters">
                <button class="category-btn" [class.active]="!selectedCategory()" (click)="onCategoryChange('')">
                    ุงููู
                </button>

                @for (cat of categories; track cat) {
                <button class="category-btn" [class.active]="selectedCategory() === cat"
                    (click)="onCategoryChange(cat)">
                    {{ cat }}
                </button>
                }
            </div>
        </div>

        <!-- Results Count -->
        <div class="results-info">
            <p>ุนุฑุถ {{ articles().length }} ูู ุฃุตู {{ total() }} ููุงูุฉ</p>
        </div>

        <!-- Loading State -->
        @if (loading()) {
        <div class="loading-state">
            <app-loading-spinner [size]="'large'"></app-loading-spinner>
            <p>ุฌุงุฑู ุชุญููู ุงูููุงูุงุช...</p>
        </div>
        }

        <!-- Error State -->
        @else if (error()) {
        <div class="error-state">
            <p class="error-message">{{ error() }}</p>
            <button class="btn btn-primary" (click)="loadArticles()">
                ุฅุนุงุฏุฉ ุงููุญุงููุฉ
            </button>
        </div>
        }

        <!-- Articles Grid -->
        @else if (articles().length > 0) {
        <div class="articles-grid">
            @for (article of articles(); track article.id) {
            <app-article-card [article]="article"></app-article-card>
            }
        </div>

        <!-- Pagination -->
        @if (totalPages() > 1) {
        <div class="pagination-wrapper">
            <app-pagination [currentPage]="currentPage()" [totalPages]="totalPages()"
                (pageChange)="onPageChange($event)">
            </app-pagination>
        </div>
        }
        }

        <!-- Empty State -->
        @else {
        <div class="empty-state">
            <div class="empty-icon">๐</div>
            <h3>ูุง ุชูุฌุฏ ูุชุงุฆุฌ</h3>
            <p>ูู ูุฌุฏ ุฃู ููุงูุงุช ุชุทุงุจู ุงูุจุญุซ.</p>
            <button class="btn btn-primary" (click)="clearFilters()">
                ูุณุญ ุงูููุงุชุฑ
            </button>
        </div>
        }
    </div>
</div>