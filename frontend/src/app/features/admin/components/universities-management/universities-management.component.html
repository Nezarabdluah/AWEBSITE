<div class="management-page">
    <div class="page-header">
        <div>
            <h1>ุฅุฏุงุฑุฉ ุงูุฌุงูุนุงุช</h1>
            <p>ุนุฑุถ ูุฅุฏุงุฑุฉ ุฌููุน ุงูุฌุงูุนุงุช ูู ุงููุธุงู</p>
        </div>
        <button class="btn btn-primary" routerLink="./create">
            โ ุฅุถุงูุฉ ุฌุงูุนุฉ ุฌุฏูุฏุฉ
        </button>
    </div>

    <!-- Search -->
    <div class="search-bar">
        <input type="text" placeholder="๐ ุจุญุซ ุนู ุฌุงูุนุฉ..." [(ngModel)]="searchQuery"
            (ngModelChange)="searchQuery.set($event)">
    </div>

    <!-- Loading State -->
    @if (isLoading()) {
    <div class="loading-state">
        <div class="spinner"></div>
        <p>ุฌุงุฑู ุงูุชุญููู...</p>
    </div>
    }

    <!-- Universities Table -->
    @if (!isLoading() && filteredUniversities.length > 0) {
    <div class="table-container">
        <table class="data-table">
            <thead>
                <tr>
                    <th>ุงูุดุนุงุฑ</th>
                    <th>ุงูุงุณู</th>
                    <th>ุงูุฏููุฉ</th>
                    <th>ุงูุชุฑุชูุจ ุงูุนุงููู</th>
                    <th>ุนุฏุฏ ุงูุทูุงุจ</th>
                    <th>ุงูุฅุฌุฑุงุกุงุช</th>
                </tr>
            </thead>
            <tbody>
                @for (university of filteredUniversities; track university.id) {
                <tr>
                    <td>
                        <img [src]="university.logo" [alt]="university.name" class="table-logo">
                    </td>
                    <td class="name-cell">{{ university.name }}</td>
                    <td>{{ university.country }}</td>
                    <td>{{ university.world_ranking }}</td>
                    <td>{{ university.total_students?.toLocaleString() }}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-icon btn-edit" title="ุชุนุฏูู">โ๏ธ</button>
                            <button class="btn-icon btn-delete" (click)="deleteUniversity(university.id)"
                                title="ุญุฐู">๐๏ธ</button>
                        </div>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
    }

    <!-- Empty State -->
    @if (!isLoading() && filteredUniversities.length === 0) {
    <div class="empty-state">
        <div class="empty-icon">๐</div>
        <h3>ูุง ุชูุฌุฏ ุฌุงูุนุงุช</h3>
        <p>ูู ูุชู ุงูุนุซูุฑ ุนูู ุฃู ุฌุงูุนุงุช</p>
    </div>
    }
</div>