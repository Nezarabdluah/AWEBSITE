<div class="management-page">
    <div class="page-header">
        <div>
            <h1>ุฅุฏุงุฑุฉ ุงูุทูุจุงุช</h1>
            <p>ุนุฑุถ ูุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุชูุฏูู ุนูู ุงูุฌุงูุนุงุช</p>
        </div>
    </div>

    <!-- Filter -->
    <div class="filter-bar">
        <label>ุงูุญุงูุฉ:</label>
        <div class="filter-buttons">
            @for (option of statusOptions; track option.value) {
            <button class="filter-btn" [class.active]="filterStatus() === option.value"
                (click)="filterStatus.set(option.value)">
                {{ option.label }}
            </button>
            }
        </div>
    </div>

    <!-- Loading -->
    @if (isLoading()) {
    <div class="loading-state">
        <div class="spinner"></div>
        <p>ุฌุงุฑู ุงูุชุญููู...</p>
    </div>
    }

    <!-- Applications Table -->
    @if (!isLoading() && filteredApplications.length > 0) {
    <div class="table-container">
        <table class="data-table">
            <thead>
                <tr>
                    <th>ุฑูู ุงูุทูุจ</th>
                    <th>ุงูุงุณู</th>
                    <th>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</th>
                    <th>ุงูุฌุงูุนุฉ</th>
                    <th>ุงูุชุฎุตุต</th>
                    <th>ุงูุญุงูุฉ</th>
                    <th>ุงูุฅุฌุฑุงุกุงุช</th>
                </tr>
            </thead>
            <tbody>
                @for (app of filteredApplications; track app.id) {
                <tr>
                    <td>#{{ app.id }}</td>
                    <td>{{ app.full_name }}</td>
                    <td>{{ app.email }}</td>
                    <td>{{ app.university_id }}</td>
                    <td>{{ app.specialization_id }}</td>
                    <td>
                        <span [class]="'status-badge ' + getStatusBadgeClass(app.status)">
                            {{ getStatusLabel(app.status) }}
                        </span>
                    </td>
                    <td>
                        <div class="action-buttons">
                            <select (change)="updateStatus(app.id, $any($event.target).value)" [value]="app.status">
                                <option value="pending">ููุฏ ุงููุฑุงุฌุนุฉ</option>
                                <option value="approved">ููุจูู</option>
                                <option value="rejected">ูุฑููุถ</option>
                            </select>
                            <button class="btn-icon btn-delete" (click)="deleteApplication(app.id)"
                                title="ุญุฐู">๐๏ธ</button>
                        </div>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
    }

    <!-- Empty State -->
    @if (!isLoading() && filteredApplications.length === 0) {
    <div class="empty-state">
        <div class="empty-icon">๐</div>
        <h3>ูุง ุชูุฌุฏ ุทูุจุงุช</h3>
        <p>ูู ูุชู ุงูุนุซูุฑ ุนูู ุทูุจุงุช {{ filterStatus() !== 'all' ? 'ุจูุฐู ุงูุญุงูุฉ' : '' }}</p>
    </div>
    }
</div>